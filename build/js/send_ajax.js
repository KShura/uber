var Form = (function () {
    function Form(form, url, dataArray, form_type) {
        this.form = form;
        this.url = url;
        this.dataArray = dataArray;
        this.form_type = form_type;
    }
    Form.prototype.validation = function (name, phone) {
        var valid_name = false;
        var valid_phone = false;
        if (phone != "") {
            valid_phone = true;
        }
        if (name != "") {
            valid_name = true;
        }
        if (!valid_name) {
            $(this.form).find("input[name='name']").css('border', '2px solid red');
            $(this.form).find("input[name='name']+.error").css('display', 'block');
        }
        else {
            $(this.form).find("input[name='name']").css('border', '');
            $(this.form).find("input[name='name']+.error").css('display', 'none');
        }
        if (!valid_phone) {
            $(this.form).find("input[name='phone']").css('border', '2px solid red');
            $(this.form).find("input[name='phone']+.error").css('display', 'block');
        }
        else {
            $(this.form).find("input[name='phone']").css('border', '');
            $(this.form).find("input[name='phone']+.error").css('display', 'none');
        }
        return valid_name && valid_phone;
    };
    Form.prototype.ajax = function () {
        var name = $(this.form).find("input[name='name']").val();
        var phone = $(this.form).find("input[name='phone']").val();
        var valid = this.validation(name, phone);
        if (valid) {
            $.ajax({
                type: "POST",
                url: this.url,
                processData: false,
                contentType: false,
                data: this.dataArray
            }).done(function (res) {
                if (res) {
                    showSuccess(this.form_type);
                }
            }).fail(function (res) {
                console.log(res);
            });
        }
    };
    return Form;
}());
$(function () {
    $('form').submit(function (e) {
        e.preventDefault();
        var dataArray = $(this).serializeArray();
        var form_type = $(this).attr('form-type');
        var url = $(this).attr('action');
        var form = new Form(this, url, dataArray, form_type);
        var formData = new FormData(this);
        var response = form.ajax();
    });
    $('input[type="file"]').change(function () {
        var val = $(this).val();
        var regV = /[^\\/]+\.[A-Za-z]+/gi;
        var result = val.match(regV);
        if (result != null) {
            $(this).siblings('span').html(result);
        }
        else {
            $(this).siblings('span').html('Добавить фото');
        }
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUUsU0FBUyxDQUFDLENBQUM7UUFDMUQsSUFBSSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzdCLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLElBQUksR0FBRyxzQkFBc0IsQ0FBQztRQUNsQyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdCLEVBQUUsQ0FBQSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pELENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNULENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InNlbmRfYWpheC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwb3B1cHMudHNcIiAvPlxyXG5pbnRlcmZhY2UgaUZvcm0ge1xyXG4gIGZvcm06IEhUTUxGb3JtRWxlbWVudDtcclxuICB1cmw6IHN0cmluZztcclxuICBkYXRhQXJyYXk6IGFueVtdO1xyXG4gIGZvcm1fdHlwZTogc3RyaW5nO1xyXG4gIHZhbGlkYXRpb24obmFtZTpzdHJpbmcsIHBob25lOnN0cmluZyk6IGJvb2xlYW47XHJcbiAgYWpheCgpOiB2b2lkO1xyXG59XHJcblxyXG5jbGFzcyBGb3JtIGltcGxlbWVudHMgaUZvcm0ge1xyXG4gIGZvcm06IEhUTUxGb3JtRWxlbWVudDtcclxuICB1cmw6c3RyaW5nO1xyXG4gIGRhdGFBcnJheTogYW55W107XHJcbiAgZm9ybV90eXBlOiBzdHJpbmc7XHJcbiAgY29uc3RydWN0b3IgKGZvcm06SFRNTEZvcm1FbGVtZW50LCB1cmw6c3RyaW5nLCBkYXRhQXJyYXk6YW55LCBmb3JtX3R5cGU6c3RyaW5nKSB7XHJcbiAgICB0aGlzLmZvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICB0aGlzLmRhdGFBcnJheSA9IGRhdGFBcnJheTtcclxuICAgIHRoaXMuZm9ybV90eXBlID0gZm9ybV90eXBlO1xyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGlvbihuYW1lOnN0cmluZywgcGhvbmU6c3RyaW5nKSA6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHZhbGlkX25hbWU6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbGV0IHZhbGlkX3Bob25lOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBpZiAocGhvbmUgIT0gXCJcIikge1xyXG4gICAgICB2YWxpZF9waG9uZSA9IHRydWU7XHJcbiAgICB9IFxyXG5cclxuICAgIGlmIChuYW1lICE9IFwiXCIpIHtcclxuICAgICAgdmFsaWRfbmFtZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoIXZhbGlkX25hbWUpIHsgICAgICAgICAgICBcclxuICAgICAgJCh0aGlzLmZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lPSduYW1lJ11cIikuY3NzKCdib3JkZXInLCAnMnB4IHNvbGlkIHJlZCcpO1xyXG4gICAgICAkKHRoaXMuZm9ybSkuZmluZChcImlucHV0W25hbWU9J25hbWUnXSsuZXJyb3JcIikuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKHRoaXMuZm9ybSkuZmluZChcImlucHV0W25hbWU9J25hbWUnXVwiKS5jc3MoJ2JvcmRlcicsICcnKTtcclxuICAgICAgJCh0aGlzLmZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lPSduYW1lJ10rLmVycm9yXCIpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICBpZighdmFsaWRfcGhvbmUpIHtcclxuICAgICAgJCh0aGlzLmZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lPSdwaG9uZSddXCIpLmNzcygnYm9yZGVyJywgJzJweCBzb2xpZCByZWQnKTtcclxuICAgICAgJCh0aGlzLmZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lPSdwaG9uZSddKy5lcnJvclwiKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQodGhpcy5mb3JtKS5maW5kKFwiaW5wdXRbbmFtZT0ncGhvbmUnXVwiKS5jc3MoJ2JvcmRlcicsICcnKTtcclxuICAgICAgJCh0aGlzLmZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lPSdwaG9uZSddKy5lcnJvclwiKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWxpZF9uYW1lICYmIHZhbGlkX3Bob25lO1xyXG4gIH1cclxuXHJcbiAgYWpheCgpOiB2b2lkIHtcclxuICAgIGxldCBuYW1lOnN0cmluZyA9ICAkKHRoaXMuZm9ybSkuZmluZChcImlucHV0W25hbWU9J25hbWUnXVwiKS52YWwoKTsgICBcclxuXHJcbiAgICBsZXQgcGhvbmUgPSAgJCh0aGlzLmZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lPSdwaG9uZSddXCIpLnZhbCgpO1xyXG5cclxuICAgIGxldCB2YWxpZDpib29sZWFuID0gdGhpcy52YWxpZGF0aW9uKG5hbWUsIHBob25lKTtcclxuICAgIGlmKHZhbGlkKSB7XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgdXJsOiB0aGlzLnVybCxcclxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxyXG4gICAgICAgIGRhdGE6IHRoaXMuZGF0YUFycmF5XHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgaWYocmVzKSB7XHJcbiAgICAgICAgICBzaG93U3VjY2Vzcyh0aGlzLmZvcm1fdHlwZSk7ICAgXHJcbiAgICAgICAgfSAgICAgICAgICBcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5cclxuJChmdW5jdGlvbigpIHtcclxuICAgICAgJCgnZm9ybScpLnN1Ym1pdChmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcclxuICAgICAgXHJcbiAgICAgICAgbGV0IGRhdGFBcnJheSA9ICQodGhpcykuc2VyaWFsaXplQXJyYXkoKTtcclxuICAgICAgICBsZXQgZm9ybV90eXBlID0gJCh0aGlzKS5hdHRyKCdmb3JtLXR5cGUnKTtcclxuICAgICAgICBsZXQgdXJsID0gJCh0aGlzKS5hdHRyKCdhY3Rpb24nKTtcclxuICAgICAgICBsZXQgZm9ybTpGb3JtID0gbmV3IEZvcm0odGhpcywgdXJsLCBkYXRhQXJyYXksIGZvcm1fdHlwZSk7XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMpO1xyXG4gICAgICAgIGxldCByZXNwb25zZSA9IGZvcm0uYWpheCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCB2YWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIGxldCByZWdWID0gL1teXFxcXC9dK1xcLltBLVphLXpdKy9naTsgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHZhbC5tYXRjaChyZWdWKTtcclxuICAgICAgICBpZihyZXN1bHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnc3BhbicpLmh0bWwocmVzdWx0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnc3BhbicpLmh0bWwoJ9CU0L7QsdCw0LLQuNGC0Ywg0YTQvtGC0L4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG59KTsgICAgICAiXSwic291cmNlUm9vdCI6Ii9zcmMvdHMifQ==
